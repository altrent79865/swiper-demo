<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Swiper demo</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1"
    />
    <!-- Link Swiper's CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <link rel="stylesheet" href="../css/index.css" />
  </head>

  <body>
    <!-- Swiper -->
    <div class="swiper mySwiper">
      <div class="swiper-wrapper">
        <!-- Crawfish Link -->
        <div class="swiper-slide">
          <div class="link-main-page-container">
            <div class="image-container-for-portraits-desktop-link">
              <img src="../assets/crawfish-etouffee.jpg" class="link-img" />
            </div>
            <div class="link-container">
              <p class="link-title">Drago's Charbroiled Oyster Recipe</p>
              <p class="link-description">
                This authentic recipe for charbroiled oysters was developed by
                Tommy Cicero of Drago's Restaurant in New Orleans and Metarie,
                Louisiana.
              </p>
              <a
                href="https://www.saveur.com"
                rel="noopener noreferrer"
                class="link-clickable"
                >SAVEUR.COM</a
              >
              <a
                href="https://www.saveur.com"
                class="grey_button"
                rel="noopener noreferrer"
              >
                <img
                  src="../assets/jump_link.png"
                  alt="icon"
                  class="button-icon"
                />
                <span>Open Link</span>
              </a>
            </div>
          </div>
          <div class="title-row">
            <a href="../index.html" class="close-btn"></a>
            <div class="pencil-title-row">
              <p class="media-item-title">Crawfish Etouffee</p>
            </div>
            <a href="" class="options-btn">
              <span class="dot"></span>
              <span class="dot"></span>
              <span class="dot"></span>
            </a>
          </div>
          <div class="title-row-bottom">
            <div class="number-of-items-btn">
              <span class="number-of-items-text">38/64</span>
            </div>
          </div>
        </div>
        <!-- Little Guy (portrait) -->
        <div class="swiper-slide">
          <div class="image-container-for-portraits-desktop">
            <img src="../assets/leo-portrait.jpg" class="portrait-img" />
          </div>
          <div class="title-row">
            <a href="../index.html" class="close-btn"></a>
            <div class="pencil-title-row">
              <p class="media-item-title">Little Guy</p>
            </div>
            <a href="" class="options-btn">
              <span class="dot"></span>
              <span class="dot"></span>
              <span class="dot"></span>
            </a>
          </div>
          <div class="title-row-bottom">
            <div class="number-of-items-btn">
              <span class="number-of-items-text">39/64</span>
            </div>
          </div>
        </div>
        <!-- Christmas Meal slide (portrait) -->
        <div class="swiper-slide">
          <div class="image-container-for-portraits-desktop">
            <img src="../assets/christmas-meal.jpg" class="portrait-img" />
          </div>
          <div class="title-row">
            <a href="../index.html" class="close-btn"></a>
            <div class="pencil-title-row">
              <!-- <img src="../assets/pencil-white.png" class="pencil" alt="" /> -->
              <p class="media-item-title">Christmas Dinner Table Setting</p>
            </div>
            <a href="" class="options-btn">
              <span class="dot"></span>
              <span class="dot"></span>
              <span class="dot"></span>
            </a>
          </div>
          <div class="title-row-bottom">
            <div class="number-of-items-btn">
              <span class="number-of-items-text">40/64</span>
            </div>
          </div>
        </div>
        <!-- Italian Roots (portrait) -->
        <div class="swiper-slide">
          <div class="image-container-for-portraits-desktop">
            <img src="../assets/leo-portrait2.jpg" class="portrait-img" />
          </div>
          <div class="title-row">
            <a href="../index.html" class="close-btn"></a>
            <div class="pencil-title-row">
              <p class="media-item-title">Italian Roots</p>
            </div>
            <a href="" class="options-btn">
              <span class="dot"></span>
              <span class="dot"></span>
              <span class="dot"></span>
            </a>
          </div>
          <div class="title-row-bottom">
            <div class="number-of-items-btn">
              <span class="number-of-items-text">41/64</span>
            </div>
          </div>
        </div>
        <!-- Pork with Rosemary with Pencil Icon and Add a Caption feature (portrait) -->
        <div class="swiper-slide">
          <div class="image-container-for-portraits-desktop">
            <img src="../assets/meat-portrait.jpg" class="portrait-img" />
          </div>
          <div class="title-row">
            <a href="../index.html" class="close-btn"></a>
            <div class="pencil-title-row">
              <img src="../assets/pencil-white.png" class="pencil" alt="" />
              <p class="media-item-title add-new-caption">Add a Caption</p>
            </div>
            <a href="" class="options-btn">
              <span class="dot"></span>
              <span class="dot"></span>
              <span class="dot"></span>
            </a>
          </div>
          <div class="title-row-bottom">
            <div class="number-of-items-btn">
              <span class="number-of-items-text">42/64</span>
            </div>
          </div>
        </div>
        <!-- Christmas Meal slide (portrait) -->
        <div class="swiper-slide">
          <div class="image-container-for-portraits-desktop">
            <img src="../assets/christmas-meal.jpg" class="portrait-img" />
          </div>
          <div class="title-row">
            <a href="../index.html" class="close-btn"></a>
            <div class="pencil-title-row">
              <!-- <img src="../assets/pencil-white.png" class="pencil" alt="" /> -->
              <p class="media-item-title">Christmas Dinner Table Setting</p>
            </div>
            <a href="" class="options-btn">
              <span class="dot"></span>
              <span class="dot"></span>
              <span class="dot"></span>
            </a>
          </div>
          <div class="title-row-bottom">
            <div class="number-of-items-btn">
              <span class="number-of-items-text">43/64</span>
            </div>
          </div>
        </div>
        <!-- Leo sideways (landscape) -->
        <div class="swiper-slide">
          <img src="../assets/leo-landscape.jpg" class="landscape-img" />
          <div class="title-row">
            <a href="../index.html" class="close-btn"></a>
            <div class="pencil-title-row">
              <p class="media-item-title">Leo Williams</p>
            </div>
            <a href="" class="options-btn">
              <span class="dot"></span>
              <span class="dot"></span>
              <span class="dot"></span>
            </a>
          </div>
          <div class="title-row-bottom">
            <div class="number-of-items-btn">
              <span class="number-of-items-text">44/64</span>
            </div>
          </div>
        </div>
        <!-- Youtube Video in Africa in playing mode for mobile (portrait) -->
        <div class="swiper-slide">
          <div class="image-container-for-portraits-desktop">
            <img
              src="../assets/youtube-kenya-iphone-playing.png"
              class="portrait-img youtube-portrait"
            />
          </div>
          <div class="title-row">
            <a href="../index.html" class="close-btn"></a>
            <div class="pencil-title-row">
              <p class="media-item-title">Finding the Wildebeasts on Safari</p>
            </div>
            <a href="" class="options-btn">
              <span class="dot"></span>
              <span class="dot"></span>
              <span class="dot"></span>
            </a>
          </div>
          <div class="title-row-bottom">
            <div class="number-of-items-btn">
              <span class="number-of-items-text">45/64</span>
            </div>
          </div>
        </div>
        <!-- Youtube Video in Africa not in play mode for mobile (landscape) -->
        <div class="swiper-slide">
          <div class="kenya-video-iphone-image-container">
            <img
              src="../assets/youtube-kenya-iphone-not-playing.jpg"
              class="landscape-img youtube-landscape"
            />
            <img
              src="../assets/video_play.png"
              alt="icon"
              class="centered-video_play-icon"
            />
          </div>
          <div class="title-row">
            <a href="../index.html" class="close-btn"></a>
            <div class="pencil-title-row">
              <p class="media-item-title">Finding the Wildebeasts on Safari</p>
            </div>
            <a href="" class="options-btn">
              <span class="dot"></span>
              <span class="dot"></span>
              <span class="dot"></span>
            </a>
          </div>
          <div class="title-row-bottom">
            <div class="number-of-items-btn">
              <span class="number-of-items-text">46/64</span>
            </div>
          </div>
        </div>
        <!-- Pasta with Truffle (landscape) -->
        <div class="swiper-slide">
          <img src="../assets/pasta.jpg" class="landscape-img" />
          <div class="title-row">
            <a href="../index.html" class="close-btn"></a>
            <div class="pencil-title-row">
              <p class="media-item-title">A great pasta dish with truffle</p>
            </div>
            <a href="" class="options-btn">
              <span class="dot"></span>
              <span class="dot"></span>
              <span class="dot"></span>
            </a>
          </div>
          <div class="title-row-bottom">
            <div class="number-of-items-btn">
              <span class="number-of-items-text">47/64</span>
            </div>
          </div>
        </div>
      </div>
      <!-- <div class="swiper-pagination"></div> -->
    </div>
    <!-- Custom Up and Down Buttons -->
    <div class="navigation-buttons">
      <button class="up-button"></button>
      <button class="down-button"></button>
    </div>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <!-- Initialize Swiper -->
    <!-- <script>
      var swiper = new Swiper(".mySwiper", {
        direction: "vertical",
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
      });
    </script> -->

    <!-- Initialize Swiper and Button Functionality -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        let elementsVisible = true; // Track visibility state of buttons and title rows

        // Initialize Swiper
        var swiper = new Swiper(".mySwiper", {
          direction: "vertical",
          on: {
            slideChange: function () {
              updateNavigationButtonStyles();
            },
            reachBeginning: updateNavigationButtonStyles,
            reachEnd: updateNavigationButtonStyles,
          },
        });

        // Select buttons
        const upButton = document.querySelector(".up-button");
        const downButton = document.querySelector(".down-button");

        // Add event listeners to buttons
        upButton.addEventListener("click", function (e) {
          e.stopPropagation(); // Prevent the click from propagating to the swiper
          if (!swiper.isBeginning) {
            swiper.slidePrev(); // Navigate to the previous slide
          }
        });

        downButton.addEventListener("click", function (e) {
          e.stopPropagation();
          if (!swiper.isEnd) {
            swiper.slideNext(); // Navigate to the next slide
          }
        });

        // Function to update button styles based on swiper's state
        function updateNavigationButtonStyles() {
          upButton.disabled = swiper.isBeginning;
          upButton.style.opacity = swiper.isBeginning ? "0.5" : "1";
          upButton.style.cursor = swiper.isBeginning
            ? "not-allowed"
            : "pointer";

          downButton.disabled = swiper.isEnd;
          downButton.style.opacity = swiper.isEnd ? "0.5" : "1";
          downButton.style.cursor = swiper.isEnd ? "not-allowed" : "pointer";
        }

        // Initial update to button styles
        updateNavigationButtonStyles();

        // Add event listener to toggle the visibility of title rows and buttons
        const swiperContainer = document.querySelector(".swiper");
        swiperContainer.addEventListener("click", function (event) {
          // Check if the click was on an interactive element
          if (
            event.target.closest(".close-btn") ||
            event.target.closest(".options-btn") ||
            event.target.closest(".pencil-title-row") ||
            event.target.closest(".link-clickable") ||
            event.target.closest(".grey_button") ||
            event.target.closest(".up-button") ||
            event.target.closest(".down-button")
          ) {
            // Do nothing if clicked on an interactive element
            return;
          }

          // Toggle visibility state
          elementsVisible = !elementsVisible;
          updateElementsVisibility();
        });

        // Function to update the visibility of title rows and buttons
        function updateElementsVisibility() {
          const titleRows = document.querySelectorAll(".title-row");
          const titleRowBottoms =
            document.querySelectorAll(".title-row-bottom");
          const navigationButtons = document.querySelector(
            ".navigation-buttons"
          );

          // Toggle visibility based on the state
          if (elementsVisible) {
            titleRows.forEach((row) => (row.style.display = "flex"));
            titleRowBottoms.forEach((row) => (row.style.display = "flex"));
            navigationButtons.style.display = "flex";
          } else {
            titleRows.forEach((row) => (row.style.display = "none"));
            titleRowBottoms.forEach((row) => (row.style.display = "none"));
            navigationButtons.style.display = "none";
          }
        }

        // Initial call to set the visibility state
        updateElementsVisibility();
      });
    </script>
  </body>
</html>
